!function(e){"use strict";function t(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===("undefined"!=typeof SVGRect&&e.firstChild&&e.firstChild.namespaceURI)}function i(){u.on("click",function(t){t.preventDefault(),d.toggleClass("js--searching"),e(".site-search-btn").toggleClass(g),m.toggleClass(g),m.find(".search-field").focus()})}function s(){var t=e(window).scrollTop(),i=e(document).height(),s=e(window).height(),n=t/(i-s)*100,a=n;e(".site-minibar__progress").css("width",a+"%")}function n(){var t=(e(window),e("#site-footer").outerHeight()),i=e("#shop-minibar").outerHeight();e(".product-filter").sticky({topSpacing:i+30,bottomSpacing:t,responsiveBreakpoint:900})}function a(){var t=(e(window),e("#site-footer").outerHeight()),i=e("#site-colophon").outerHeight(),s=i+t;e(".woocommerce-checkout-review-order").sticky({bottomSpacing:s,responsiveBreakpoint:900})}function o(){h.length>0&&(h.infinitescroll({navSelector:f,nextSelector:f,itemSelector:"article"},function(t){e("#infscr-loading").remove(),e(t).addClass("animate"),e(t).each(function(i){setTimeout(function(){e(t).eq(i).addClass("animated")},160*i)})}),e(window).unbind(".infscr"),f.click(function(){return setTimeout(function(){h.infinitescroll("retrieve"),h.find("article").removeClass("article--opacity")},800),p.addClass("loading"),setTimeout(function(){p.addClass("js--opacity-zero")},800),setTimeout(function(){p.removeClass("loading"),p.removeClass("js--opacity-zero")},2e3),!1}),e(document).ajaxError(function(e,t,i){404==t.status&&p.remove()}))}function r(){var t=e(window);t.width()>768&&e(".main-navigation:not(.flyout) ul").superfish({animation:{height:"show",opacity:"show"},delay:200,cssArrows:!1,disableHI:!1,speed:"fast"})}function c(){var t=e(window),i=e(window).height(),s=e(".sidebar--section"),n="js--scroll";t.width()>768&&s.children().each(function(){i<e(this).innerHeight()?e(this).parent().addClass(n):e(this).parent().removeClass(n)})}function l(){var t=(e(".mobile-navigation"),e(".mobile-navigation .mobile-navigation--arrow, .mobile-navigation h6, .mobile-navigation a.ava-mobile-no-link")),i=200;t.length&&t.each(function(){e(this).on("tap click",function(t){var s=e(this).nextAll("ul").first();if(s.length){t.preventDefault(),t.stopPropagation();var n=e(this).parent("li");s.is(":visible")?(s.slideUp(i),n.removeClass("ava-opened")):(s.slideDown(i),n.addClass("ava-opened"))}})})}var d=e("body"),u=e(".site-search-btn"),m=e("#site-search"),p=(e("#mobile-navigation"),e("#infinite-navigation")),f=e("#infinite-navigation a"),h=(e("#hfeed.masonry.posts"),e("#hfeed.masonry.projects"),e("#hfeed.product-grid")),g="js--active";e("#site-minibar").headroom({offset:100,tolerance:10,classes:{initial:"site-minibar--js",pinned:"site-minibar--pinned",unpinned:"site-minibar--unpinned",top:"site-minibar--top",notTop:"site-minibar--not-top"}}),e("#shop-minibar").headroom({offset:50,tolerance:10,classes:{initial:"shop-minibar--js",pinned:"shop-minibar--pinned",unpinned:"shop-minibar--unpinned",top:"shop-minibar--top",notTop:"shop-minibar--not-top"}}),e(document).ready(function(){c(),i(),o(),r(),n(),a(),l(),!0===t()&&(document.documentElement.className=document.documentElement.className.replace(/(\s*)no-svg(\s*)/,"$1svg$2")),d.hasClass("single-post")&&(e("#respond #comment, #respond #email, #respond #author, #respond #submit").bind("focus blur",function(){e(".comment-form").toggleClass("js--focus"),e(".comment-form-author").toggleClass("js--focus"),e(".comment-form-email").toggleClass("js--focus"),e("#respond .form-submit").toggleClass("js--focus")}),e("#commentform textarea#comment").attr("placeholder",ava_translation.ava_comment)),e("#commentform input#author").attr("placeholder",ava_translation.ava_author),e("#commentform input#email").attr("placeholder",ava_translation.ava_email),e("#shop-minibar #woocommerce-product-search-field").bind("focus blur",function(){e(this).closest(".woocommerce-product-search").toggleClass("js--focus")}),e(".ava-cart-panel-summary .checkout").on("click",function(e){d.removeClass("widget-panel-open")}),e(".woocommerce-reviews-trigger-wrapper").on("click",function(t){var i=(e(".drawer"),e("#reviews")),s=e(".reviews__inner").height();i.hasClass("js-open")?i.css("height",0):i.css("height",s),t.preventDefault(),i.toggleClass("js-open"),e(".woocommerce-reviews-trigger-wrapper").toggleClass("js-open")}),e(".woocommerce-attributes-trigger-wrapper").on("click",function(t){var i=(e(".drawer"),e("#attributes")),s=e(".attributes__inner").height();i.hasClass("js-open")?i.css("height",0):i.css("height",s),t.preventDefault(),i.toggleClass("js-open"),e(".woocommerce-attributes-trigger-wrapper").toggleClass("js-open")}),e(".menu-toggle").on("click",function(){d.toggleClass("js--opennav"),e(this).toggleClass(g)}),e(".mobile-navigation .menu-item a").on("click",function(){d.removeClass("js--opennav")}),e(".product-categories-trigger").on("click",function(){e(".widget_product_categories").toggleClass("js--open"),e(this).toggleClass(g)}),e("#nav-close").on("click",function(){d.toggleClass("js--opennav"),e(".menu-toggle").removeClass(g)}),e("#flyout-close-toggle").on("click",function(){d.toggleClass("js--opennav"),e(".menu-toggle").removeClass(g)}),e(".shop-minibar__filter-trigger").on("click",function(){e(".woocommerce .hfeed.product-grid").toggleClass(g),e(".woocommerce #infinite-navigation").toggleClass(g),e(".woocommerce .page-navigation").toggleClass(g),e(".woocommerce .product-sidebar").hasClass(g)?(e(".woocommerce .product-sidebar").removeClass(g),setTimeout(function(){e(".woocommerce .product-sidebar").removeClass("js--animating")},400)):(e(".woocommerce .product-sidebar").addClass("js--animating"),setTimeout(function(){e(".woocommerce .product-sidebar").addClass(g)},400)),e(this).toggleClass(g)}),e(".woocommerce-ordering").on("click",function(){e("#shop-minibar").toggleClass(g)}),e("#orderby").dropkick({mobile:!0}),f.each(function(){e(this).html(e(this).text().replace(/(\w|\.)/g,"<span>$&</span>"))}),e("body").fitVids()}),e(window).resize(function(){c(),r()}),e(window).scroll(function(){s()})}(jQuery),jQuery(document).ready(function(e){"use strict";jQuery("body").on("click",".jm-post-like",function(t){t.preventDefault();var i=jQuery(this),s=i.data("post_id"),n=e("#likes-count"),a=e(".likes-wrapper");jQuery.ajax({type:"post",url:ava_localization.url,data:"action=jm-post-like&nonce="+ava_localization.nonce+"&ava_post_like=&post_id="+s,success:function(e){if(e.indexOf("already")!==-1){var t=e.replace("already","");"0"===t&&(t="0"),i.prop("title","Like"),a.removeClass("liked"),n.html(t)}else i.prop("title","Unlike"),a.addClass("liked"),n.html(e)}})})}),function(){function e(){for(var e=this;-1===e.className.indexOf("nav-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}var t,i,s,n,a,o,r,c;if(t=document.getElementById("mobile-navigation"),t&&(i=document.getElementById("menu-toggle"))){if(s=t.getElementsByTagName("ul")[0],"undefined"==typeof s)return void(i.style.display="none");for(s.setAttribute("aria-expanded","false"),-1===s.className.indexOf("nav-menu")&&(s.className+=" nav-menu"),c=document.body,i.onclick=function(){-1!==t.className.indexOf("toggled")?(t.className=t.className.replace(" toggled",""),i.setAttribute("aria-expanded","false"),s.setAttribute("aria-expanded","false"),c.className=c.className.replace(" js--opennav","")):(t.className+=" toggled",i.setAttribute("aria-expanded","true"),s.setAttribute("aria-expanded","true"),c.className+=" js--opennav")},n=s.getElementsByTagName("a"),a=s.getElementsByTagName("ul"),o=0,r=a.length;o<r;o++)a[o].parentNode.setAttribute("aria-haspopup","true");for(o=0,r=n.length;o<r;o++)n[o].addEventListener("focus",e,!0),n[o].addEventListener("blur",e,!0);!function(e){var t,i,s=e.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");if("ontouchstart"in window)for(t=function(e){var t,i=this.parentNode;if(i.classList.contains("focus"))i.classList.remove("focus");else{for(e.preventDefault(),t=0;t<i.parentNode.children.length;++t)i!==i.parentNode.children[t]&&i.parentNode.children[t].classList.remove("focus");i.classList.add("focus")}},i=0;i<s.length;++i)s[i].addEventListener("touchstart",t,!1)}(t)}}(),function(){var e=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,t=navigator.userAgent.toLowerCase().indexOf("opera")>-1,i=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(e||t||i)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t),e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus()))},!1)}(),jQuery(document).ready(function(e){function t(){s(e(".cd-headline.letters").find("b")),n(e(".cd-headline"))}function s(t){t.each(function(){var t=e(this),s=t.text().split(""),n=t.hasClass("is-visible");for(i in s)t.parents(".rotate-2").length>0&&(s[i]="<em>"+s[i]+"</em>"),s[i]=n?'<i class="in">'+s[i]+"</i>":"<i>"+s[i]+"</i>";var a=s.join("");t.html(a).css("opacity",1)})}function n(t){var i=u;t.each(function(){var t=e(this);if(t.hasClass("loading-bar"))i=m,setTimeout(function(){t.find(".cd-words-wrapper").addClass("is-loading")},p);else if(t.hasClass("clip")){var s=t.find(".cd-words-wrapper"),n=s.width()+10;s.css("width",n)}else if(!t.hasClass("type")){var o=t.find(".cd-words-wrapper b"),r=0;o.each(function(){var t=e(this).width();t>r&&(r=t)}),t.find(".cd-words-wrapper").css("width",r)}setTimeout(function(){a(t.find(".is-visible").eq(0))},i)})}function a(e){var t=l(e);if(e.parents(".cd-headline").hasClass("type")){var i=e.parent(".cd-words-wrapper");i.addClass("selected").removeClass("waiting"),setTimeout(function(){i.removeClass("selected"),e.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},g),setTimeout(function(){o(t,h)},v)}else if(e.parents(".cd-headline").hasClass("letters")){var s=e.children("i").length>=t.children("i").length;r(e.find("i").eq(0),e,s,f),c(t.find("i").eq(0),t,s,f)}else e.parents(".cd-headline").hasClass("clip")?e.parents(".cd-words-wrapper").animate({width:"2px"},w,function(){d(e,t),o(t)}):e.parents(".cd-headline").hasClass("loading-bar")?(e.parents(".cd-words-wrapper").removeClass("is-loading"),d(e,t),setTimeout(function(){a(t)},m),setTimeout(function(){e.parents(".cd-words-wrapper").addClass("is-loading")},p)):(d(e,t),setTimeout(function(){a(t)},u))}function o(e,t){e.parents(".cd-headline").hasClass("type")?(c(e.find("i").eq(0),e,!1,t),e.addClass("is-visible").removeClass("is-hidden")):e.parents(".cd-headline").hasClass("clip")&&e.parents(".cd-words-wrapper").animate({width:e.width()+10},w,function(){setTimeout(function(){a(e)},C)})}function r(t,i,s,n){if(t.removeClass("in").addClass("out"),t.is(":last-child")?s&&setTimeout(function(){a(l(i))},u):setTimeout(function(){r(t.next(),i,s,n)},n),t.is(":last-child")&&e("html").hasClass("no-csstransitions")){var o=l(i);d(i,o)}}function c(e,t,i,s){e.addClass("in").removeClass("out"),e.is(":last-child")?(t.parents(".cd-headline").hasClass("type")&&setTimeout(function(){t.parents(".cd-words-wrapper").addClass("waiting")},200),i||setTimeout(function(){a(t)},u)):setTimeout(function(){c(e.next(),t,i,s)},s)}function l(e){return e.is(":last-child")?e.parent().children().eq(0):e.next()}function d(e,t){e.removeClass("is-visible").addClass("is-hidden"),t.removeClass("is-hidden").addClass("is-visible")}var u=2500,m=3800,p=m-3e3,f=50,h=150,g=500,v=g+800,w=600,C=1500;t()});